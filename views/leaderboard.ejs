<section class="leaderboard">
  <h1 class="title">ğŸ† Leaderboard</h1>

  <% if (!rows.length) { %>
    <div class="card">
      <p>Aucun vendeur nâ€™a encore reÃ§u de vouch.</p>
    </div>
  <% } else { %>
    <% const top = rows.slice(0, 3); const others = rows.slice(3); %>

    <!-- PODIUM -->
    <div class="podium">
      <!-- 2Ã¨me place -->
      <div class="pod silver">
        <div class="rank">ğŸ¥ˆ 2</div>
        <div class="profile">
          <img src="https://api.dicebear.com/8.x/avataaars/svg?seed=<%= top[1]?.vendor || 'User' %>" alt="avatar">
          <div class="info">
            <strong><%= top[1]?.vendor || '' %></strong>
            <div class="muted"><%= top[1]?.count || 0 %> vouches</div>
          </div>
        </div>
      </div>

      <!-- 1Ã¨re place -->
      <div class="pod gold" style="transform: translateY(-10px)">
        <div class="rank">ğŸ¥‡ 1</div>
        <div class="profile">
          <img src="https://api.dicebear.com/8.x/avataaars/svg?seed=<%= top[0]?.vendor || 'User' %>" alt="avatar">
          <div class="info">
            <strong><%= top[0]?.vendor || '' %></strong>
            <div class="muted"><%= top[0]?.count || 0 %> vouches</div>
          </div>
        </div>
      </div>

      <!-- 3Ã¨me place -->
      <div class="pod bronze">
        <div class="rank">ğŸ¥‰ 3</div>
        <div class="profile">
          <img src="https://api.dicebear.com/8.x/avataaars/svg?seed=<%= top[2]?.vendor || 'User' %>" alt="avatar">
          <div class="info">
            <strong><%= top[2]?.vendor || '' %></strong>
            <div class="muted"><%= top[2]?.count || 0 %> vouches</div>
          </div>
        </div>
      </div>
    </div>

    <!-- AUTRES CLASSEMENTS -->
    <% if (others.length) { %>
      <div class="lb">
        <% others.forEach(r => { %>
          <div class="lb-row">
            <div class="lb-rank">#<%= r.rank %></div>
            <div class="lb-vendor">
              <img src="https://api.dicebear.com/8.x/avataaars/svg?seed=<%= r.vendor %>" alt="avatar">
              <span><%= r.vendor %></span>
            </div>
            <div class="lb-count"><%= r.count %> vouches</div>
          </div>
        <% }) %>
      </div>
    <% } %>
  <% } %>
</section>
